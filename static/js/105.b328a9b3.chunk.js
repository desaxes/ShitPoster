"use strict";(self.webpackChunkfirst_project=self.webpackChunkfirst_project||[]).push([[105],{2926:function(e,s,n){n.d(s,{I:function(){return h}});var t=n(1413),o=n(5671),i=n(3144),r=n(136),a=n(7277),l=n(2791),c=n(8687),u=n(7689),d=n(184),f=function(e){return{auth:e.auth}},h=function(e){return(0,c.$j)(f)(function(s){(0,r.Z)(l,s);var n=(0,a.Z)(l);function l(){return(0,o.Z)(this,l),n.apply(this,arguments)}return(0,i.Z)(l,[{key:"render",value:function(){return!1===this.props.auth.isAuth?(0,d.jsx)(u.Fg,{to:"/login"}):(0,d.jsx)(e,(0,t.Z)({},this.props))}}]),l}(l.Component))}},900:function(e,s,n){n.r(s),n.d(s,{default:function(){return L}});var t,o=n(4942),i=n(1413),r=n(8687),a=n(6070),l=n(6789),c=n(9364),u=n(5796),d=function(e){return e.profilePage.profileInfo},f=function(e){return e.profilePage.userId},h=function(e){return e.profilePage.status},p=n(5761),m=n(3433),x=n(2791),b=n(9309),j=n(1853),g=n(5115),I=n(837),v=n(9439),Z=n.p+"static/media/pencil.bc6981b19da5e5076b6b.png",N=n.p+"static/media/pencil_color.7de5f01a73dfe3fad255.png",P=n(1134),k=n(184),U=function(e){var s=(0,P.cI)(),n=s.register,t=s.reset,o=(0,x.useState)(!1),r=(0,v.Z)(o,2),a=r[0],l=r[1],c=(0,x.useState)(!1),u=(0,v.Z)(c,2),d=u[0],f=u[1],h=function(e){f(e)};return(0,k.jsxs)("div",{className:g.Z.status_field,children:[a?(0,k.jsx)("form",{children:(0,k.jsx)("input",(0,i.Z)((0,i.Z)({},n("status")),{},{autoFocus:!0,onBlur:function(s){l(!1),e.setStatus(e.authId,s.currentTarget.value),t()},maxLength:25,className:g.Z.status_input,placeholder:e.status}))}):(0,k.jsx)("div",{children:(0,k.jsx)("q",{children:e.status})}),e.profileId===e.authId&&(0,k.jsx)("div",{className:g.Z.pencil_box,children:(0,k.jsx)("img",{onClick:function(e){l(!0)},onMouseLeave:function(e){h(!1)},onMouseEnter:function(e){h(!0)},src:d?N:Z,alt:""})})]})},_=n(4143),S=n(2103),q=n(8296),w=n(6312),C=n(8308),F=function(e){for(var s,n=(0,P.cI)({mode:"onSubmit"}),t=n.register,o=n.handleSubmit,r=n.reset,a=n.formState.errors,l=(0,m.Z)(e.posts).reverse().map((function(s){return s.userId===e.profileInfo.userId&&(0,k.jsx)(I.Z,{postId:s.userId,id:s.id,name:s.name,avatar:s.avatar,time:s.time,postimage:s.postimage,posttext:s.posttext,like_count:s.like_count,comments:s.comments},s.id)})).filter((function(e){return 0!=e})),c=0,u=0;u<l.length;u++){c+=l[u].props.like_count}return(0,k.jsxs)("div",{className:g.Z.profile,children:[(0,k.jsxs)("div",{className:g.Z.head,children:[(0,k.jsx)("img",{className:g.Z.header,src:b,alt:"profile__header"}),(0,k.jsx)("div",{className:"page-block",children:(0,k.jsxs)(_.m,{defaultValue:"Profile",children:[(0,k.jsxs)(_.m.List,{grow:!0,children:[(0,k.jsx)(_.m.Tab,{value:"Profile",children:"Profile"}),(0,k.jsx)(_.m.Tab,{value:"About",children:"About"}),(0,k.jsx)(_.m.Tab,{value:"Subs",children:"Subs"})]}),(0,k.jsx)(_.m.Panel,{pt:30,value:"Profile",children:(0,k.jsxs)("div",{className:g.Z.info_block,children:[(0,k.jsxs)("div",{className:g.Z.avatar_box,children:[(0,k.jsx)("img",{className:g.Z.avatar,src:null===e.profileInfo.photos.large?j:e.profileInfo.photos.large,alt:"avatar"}),e.profileInfo.userId===e.auth.id&&(0,k.jsx)("div",{className:g.Z.photo_btn,children:(0,k.jsx)(S.S,{onChange:function(s){e.setPhoto(s),e.changeAuthPhoto(e.authId)},accept:"image/png,image/jpeg",children:function(e){return(0,k.jsx)(q.z,(0,i.Z)((0,i.Z)({color:"red",variant:"subtle",size:"s",compact:!0},e),{},{children:"\ud83d\udcbe"}))}})})]}),(0,k.jsxs)("div",{className:g.Z.info_inf,children:[(0,k.jsx)("div",{className:g.Z.name,children:e.profileInfo.fullName}),(0,k.jsx)(U,{setStatus:e.setStatus,profileId:e.profileInfo.userId,authId:e.auth.id,status:e.status}),(0,k.jsxs)("div",{className:g.Z.desc_block,children:[(0,k.jsx)("p",{className:g.Z.question,children:"Rating:"}),(0,k.jsx)("p",{className:g.Z.answer,children:c})]}),(0,k.jsxs)("div",{className:g.Z.desc_block,children:[(0,k.jsx)("p",{className:g.Z.question,children:"Posts Counter:"}),(0,k.jsx)("p",{className:g.Z.answer,children:l.length})]})]}),e.profileInfo.userId!=e.auth.id&&(0,k.jsxs)("div",{className:g.Z.btn_block,children:[(0,k.jsx)("div",{className:"quick-posting-btnbox",children:(0,k.jsx)("button",{className:"quick-posting__btn",children:"Send Message"})}),(0,k.jsx)("div",{className:"quick-posting-btnbox",children:(0,k.jsx)("button",{className:"quick-posting__btn".concat(" ",e.profileInfo.followed&&g.Z.f_color),children:e.profileInfo.followed?"Unsubscribe":"Subscribe"})}),(0,k.jsx)("div",{className:"quick-posting-btnbox",children:(0,k.jsx)("button",{className:"quick-posting__btn",children:"Show Subs"})})]})]})}),(0,k.jsxs)(_.m.Panel,{pt:30,value:"About",children:[(0,k.jsxs)("p",{className:g.Z.about,children:["Full Name - ",null===e.profileInfo.fullName?"":e.profileInfo.fullName]}),null===e.profileInfo.aboutMe?(0,k.jsx)("p",{className:g.Z.about,children:'"There could be a description of me here"'}):(0,k.jsxs)("p",{className:g.Z.about,children:[" ",e.profileInfo.aboutMe]}),(0,k.jsxs)("p",{className:g.Z.about,children:["Looking For A Job - ",!0===e.profileInfo.lookingForAJob?"Yes":"No"]}),null!=e.profileInfo.lookingForAJobDescription&&(0,k.jsx)("p",{className:g.Z.about,children:e.profileInfo.lookingForAJobDescription}),(0,k.jsxs)("div",{className:g.Z.accordion,children:[(0,k.jsx)("h1",{className:g.Z.accordion_header,children:"Socials"}),(0,k.jsx)("div",{className:g.Z.accordion_box,children:(0,k.jsxs)(w.U,{defaultValue:"GitHub",children:[(0,k.jsxs)(w.U.Item,{value:"GitHub",children:[(0,k.jsx)(w.U.Control,{children:"GitHub"}),(0,k.jsx)(w.U.Panel,{children:e.profileInfo.contacts.github})]}),(0,k.jsxs)(w.U.Item,{value:"VK",children:[(0,k.jsx)(w.U.Control,{children:"VK"}),(0,k.jsx)(w.U.Panel,{children:e.profileInfo.contacts.vk})]}),(0,k.jsxs)(w.U.Item,{value:"Facebook",children:[(0,k.jsx)(w.U.Control,{children:"Facebook"}),(0,k.jsx)(w.U.Panel,{children:e.profileInfo.contacts.facebook})]}),(0,k.jsxs)(w.U.Item,{value:"Instagram",children:[(0,k.jsx)(w.U.Control,{children:"Instagram"}),(0,k.jsx)(w.U.Panel,{children:e.profileInfo.contacts.instagram})]}),(0,k.jsxs)(w.U.Item,{value:"Twitter",children:[(0,k.jsx)(w.U.Control,{children:"Twitter"}),(0,k.jsx)(w.U.Panel,{children:e.profileInfo.contacts.twitter})]}),(0,k.jsxs)(w.U.Item,{value:"Website",children:[(0,k.jsx)(w.U.Control,{children:"Website"}),(0,k.jsx)(w.U.Panel,{children:e.profileInfo.contacts.website})]}),(0,k.jsxs)(w.U.Item,{value:"Youtube",children:[(0,k.jsx)(w.U.Control,{children:"Youtube"}),(0,k.jsx)(w.U.Panel,{children:e.profileInfo.contacts.youtube})]}),(0,k.jsxs)(w.U.Item,{value:"MainLink",children:[(0,k.jsx)(w.U.Control,{children:"MainLink"}),(0,k.jsx)(w.U.Panel,{children:e.profileInfo.contacts.mainLink})]})]})})]})]}),(0,k.jsx)(_.m.Panel,{pt:30,value:"Subs"})]})})]}),e.profileInfo.userId===e.auth.id&&(0,k.jsxs)("form",{onSubmit:o((function(s){e.addPost(e.auth.id,e.login,e.authPhoto,"Now",s.postText,0),r()})),className:"quick-posting page-block",children:[(0,k.jsx)(C.g,(0,i.Z)((0,i.Z)({error:null===a||void 0===a||null===(s=a.postText)||void 0===s?void 0:s.message,label:"Quick Post",size:"xl"},t("postText",{required:"\u270e You must enter the text \u21d2",minLength:{value:10,message:"Min length is 10 symbols"}})),{},{placeholder:"Enter Text",className:"quick-posting-field"})),(0,k.jsx)("div",{className:"quick-posting-btnbox",children:(0,k.jsx)("input",{value:"Post",type:"submit",className:"quick-posting__btn"})})]}),(0,k.jsx)("div",{className:"page-block",children:l})]})},T=n(7689),A=n(2926),L=(0,n(7781).qC)((0,r.$j)((function(e){return{posts:e.news.postData,profileInfo:d(e),userId:f(e),subscribeProgress:(0,p.FL)(e),status:h(e),authId:e.auth.id,authPhoto:e.auth.photo,login:e.auth.login}}),(t={addPost:l.q2,getUserProfile:a.et,setFollowedInfo:a.rG,following:c.mG,setStatus:a.Tf},(0,o.Z)(t,"addPost",l.q2),(0,o.Z)(t,"setPhoto",a.UI),(0,o.Z)(t,"changeAuthPhoto",u.qt),t)),A.I)((function(e){var s=(0,T.UO)(),n=(0,T.s0)();return(0,x.useEffect)((function(){s.id?e.getUserProfile(s.id):n("/profile/"+e.authId)}),[s.id]),(0,k.jsx)(F,(0,i.Z)({},e))}))},5761:function(e,s,n){n.d(s,{FL:function(){return l},FX:function(){return r},KA:function(){return t},ab:function(){return a},b7:function(){return o},zU:function(){return i}});var t=function(e){return e.subsPage.subsData},o=function(e){return e.subsPage.pageSize},i=function(e){return e.subsPage.pageNumber},r=function(e){return e.subsPage.totalCount},a=function(e){return e.subsPage.isFetching},l=function(e){return e.subsPage.subscribeProgress}}}]);
//# sourceMappingURL=105.b328a9b3.chunk.js.map