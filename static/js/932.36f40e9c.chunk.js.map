{"version":3,"file":"static/js/932.36f40e9c.chunk.js","mappings":"wMAKMA,EAAkB,SAACC,GACrB,MAAO,CACHC,OAAQD,EAAME,KAAKD,OAE3B,EAIME,EAAe,SAACC,GAClB,OAAOC,EAAAA,EAAAA,IAAQN,EAARM,EAAyB,SAAUC,GACtC,OAAqB,IAAjBA,EAAML,QACCM,EAAAA,EAAAA,KAACC,EAAAA,GAAQ,CAACC,GAAG,YAEVF,EAAAA,EAAAA,KAACH,GAASM,EAAAA,EAAAA,GAAA,GAAKJ,GACjC,GAEJ,C,gHCpBA,GAAgB,WAAa,yBAAyB,aAAe,2BAA2B,OAAS,qBAAqB,SAAW,uBAAuB,IAAM,kBAAkB,SAAW,uBAAuB,OAAS,qBAAqB,KAAO,mBAAmB,MAAQ,oBAAoB,KAAO,mBAAmB,QAAU,sBAAsB,QAAU,sBAAsB,WAAa,yBAAyB,KAAO,mBAAmB,QAAU,sBAAsB,MAAQ,qB,uCCe1eK,EAA2B,SAACL,GAS9B,OACIM,EAAAA,EAAAA,MAAA,MAAIC,UAAWC,EAAAA,IAAMC,SAAA,EACjBH,EAAAA,EAAAA,MAACI,EAAAA,GAAO,CAACC,QANI,SAACC,GAClBC,EAAAA,EAAAA,IAAU,uDAAyDb,EAAMc,GAAI,CAAEC,iBAAiB,IAAQC,MAAK,SAAAC,GAC7G,GACJ,EAG0Cd,GAAI,YAAcH,EAAMc,GAAIP,UAAWC,EAAAA,SAAWC,SAAA,EAChFR,EAAAA,EAAAA,KAAA,OAAKM,UAAWC,EAAAA,OAAUU,IAAsB,OAAjBlB,EAAMmB,OAAkBA,EAASnB,EAAMmB,OAAQC,IAAI,MAClFd,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAAA,KAAOC,SAAA,EACnBR,EAAAA,EAAAA,KAAA,KAAGM,UAAWC,EAAAA,MAAQC,SAAET,EAAMqB,QAC9BpB,EAAAA,EAAAA,KAAA,KAAGM,UAAWC,EAAAA,KAAOC,SAAmB,OAAjBT,EAAMsB,OAAkB,YAActB,EAAMsB,gBAG3ErB,EAAAA,EAAAA,KAAA,OAAKM,UAAWC,EAAAA,QAAUC,UACtBR,EAAAA,EAAAA,KAAA,UAAQsB,SAAUvB,EAAMwB,kBAAkBC,MAAK,SAAAX,GAAE,OAAIA,IAAOd,EAAMc,EAAE,IAAGH,QAlBlE,SAACC,GACdA,EAAEc,iBACF1B,EAAM2B,UAAU3B,EAAM4B,SAAU5B,EAAMc,GAC1C,EAewGP,UAAc,qBAAoBsB,OAAA,IAAI7B,EAAM4B,UAAYpB,EAAAA,SAAYC,SAC3JT,EAAM4B,SAAW,cAAgB,kBAKtD,E,qECrBME,EAAkC,SAAC9B,GACrC,IAAA+B,GAAsCC,EAAAA,EAAAA,GAAkB,GAAI,KAAIC,GAAAC,EAAAA,EAAAA,GAAAH,EAAA,GAAzDI,EAAWF,EAAA,GAAEG,EAAcH,EAAA,GAC5BI,GAASC,EAAAA,EAAAA,OACfC,EAAAA,EAAAA,YAAU,WACNvC,EAAMwC,SAASxC,EAAMyC,SAAUJ,EAAOK,KAAMP,GAC5CQ,EAAS,SAAWN,EAAOK,KAAO,IAAMP,EAC5C,GAAG,CAACA,EAAaE,EAAOK,OACxB,IAGMC,GAAWC,EAAAA,EAAAA,MACbC,EAAO7C,EAAM8C,MAAMC,KAAI,SAAAC,GAAC,OAAI/C,EAAAA,EAAAA,KAACI,EAAG,CAAYS,GAAIkC,EAAElC,GAAIO,KAAM2B,EAAE3B,KAAMC,OAAQ0B,EAAE1B,OAC9EM,SAAUoB,EAAEpB,SAAUT,OAAQ6B,EAAEC,OAAOC,MAAO1B,kBAAmBxB,EAAMwB,kBACvEG,UAAW3B,EAAM2B,WAFqBqB,EAAElC,GAEV,IAC9BqC,EAAWnD,EAAMmD,SAASJ,KAAI,SAAAC,GAAC,OAAI/C,EAAAA,EAAAA,KAACI,EAAG,CAAYS,GAAIkC,EAAElC,GAAIO,KAAM2B,EAAE3B,KAAMC,OAAQ0B,EAAE1B,OACrFM,SAAUoB,EAAEpB,SAAUT,OAAQ6B,EAAEC,OAAOC,MAAO1B,kBAAmBxB,EAAMwB,kBACvEG,UAAW3B,EAAM2B,WAF4BqB,EAAElC,GAEjB,IAC9BsC,EAAYC,KAAKC,KAAKtD,EAAMuD,WAAavD,EAAMyC,UAEnD,OACIxC,EAAAA,EAAAA,KAAA,OAAKM,UAAWC,EAAAA,KAAOC,UACnBR,EAAAA,EAAAA,KAAA,OAAKM,UAAU,aAAYE,UACvBR,EAAAA,EAAAA,KAAA,OAAKM,UAAWC,EAAAA,WAAaC,UACzBH,EAAAA,EAAAA,MAACkD,EAAAA,EAAI,CAACC,aAAa,QAAOhD,SAAA,EACtBH,EAAAA,EAAAA,MAACkD,EAAAA,EAAAA,KAAS,CAACE,MAAI,EAAAjD,SAAA,EACXR,EAAAA,EAAAA,KAACuD,EAAAA,EAAAA,IAAQ,CAACG,MAAM,QAAOlD,SAAC,WACxBR,EAAAA,EAAAA,KAACuD,EAAAA,EAAAA,IAAQ,CAACG,MAAM,OAAMlD,SAAC,YAE1BT,EAAM4D,YAAa3D,EAAAA,EAAAA,KAAC4D,EAAAA,EAAS,IAAM,MACpC5D,EAAAA,EAAAA,KAACuD,EAAAA,EAAAA,MAAU,CAACM,GAAI,EAAGC,GAAI,GAAIJ,MAAM,QAAOlD,UACpCH,EAAAA,EAAAA,MAAA,OAAKC,UAAWC,EAAAA,MAAQC,SAAA,EACpBR,EAAAA,EAAAA,KAAA,OAAKM,UAAWC,EAAAA,WAChBP,EAAAA,EAAAA,KAAC+D,EAAAA,EAAS,CAACC,KAAK,KAAKR,aAActB,EAAa5B,UAAWC,EAAAA,OAAU0D,KAAK,OACtEC,YAAY,SAASC,SAAU,SAACxD,GAAC,OAAKwB,EAAexB,EAAEyD,cAAcV,MAAM,KAC/E1D,EAAAA,EAAAA,KAACqE,EAAAA,EAAI,CAACC,IAAK,GAAIC,UAAW,SAAUjE,UAAS,GAAAsB,OAAKrB,EAAAA,SAAU,KAAAqB,OAAI7B,EAAM4D,YAAcpD,EAAAA,cAAiBC,SAChGoC,KAGL5C,EAAAA,EAAAA,KAACwE,EAAAA,EAAU,CAACC,MAAM,MAAMf,MAAOgB,SAAStC,EAAOK,MAAO0B,SAAU,SAACxD,IA/B1E,SAACA,GAChB+B,EAAS,SAAW/B,EAAI,IAAMuB,EAClC,CA6BqGyC,CAAWhE,EAAG,EACnFiE,MAAOzB,EAAW0B,WAAS,EAACC,SAAU,EAAGxE,UAAWC,EAAAA,QAAWyD,KAAK,aAIhFhE,EAAAA,EAAAA,KAACuD,EAAAA,EAAAA,MAAU,CAACO,GAAI,GAAIJ,MAAM,OAAMlD,UAC5BR,EAAAA,EAAAA,KAAA,OAAKM,UAAWC,EAAAA,MAAQC,UACpBR,EAAAA,EAAAA,KAACqE,EAAAA,EAAI,CAACC,IAAK,GAAIC,UAAW,SAAUjE,UAAS,GAAAsB,OAAKrB,EAAAA,SAAU,KAAAqB,OAAI7B,EAAM4D,YAAcpD,EAAAA,cAAiBC,SAChG0C,gBASrC,E,8BCpCA,GAAe6B,EAAAA,EAAAA,KACXjF,EAAAA,EAAAA,KAZoB,SAACL,GACrB,MAAO,CACHoD,MAAOmC,EAAAA,GAA2BvF,GAClC+C,SAAUwC,EAAAA,GAAyBvF,GACnCwF,WAAYD,EAAAA,GAA2BvF,GACvC6D,WAAY0B,EAAAA,GAA2BvF,GACvCkE,WAAYqB,EAAAA,GAA2BvF,GACvC8B,kBAAmByD,EAAAA,GAAkCvF,GACrDyD,SAAUzD,EAAME,KAAKuD,SAE7B,GAE6B,CACrBX,SAAAA,EAAAA,GACAb,UAAAA,EAAAA,KAEJ9B,EAAAA,EALJ,EAlBmC,SAACG,GAChC,OAAQC,EAAAA,EAAAA,KAAAkF,EAAAA,SAAA,CAAA1E,UACJR,EAAAA,EAAAA,KAAC6B,EAAgB,CAACgB,MAAO9C,EAAM8C,MAAOK,SAAUnD,EAAMmD,SAAUV,SAAUzC,EAAMyC,SAAUyC,WAAYlF,EAAMkF,WACxG3B,WAAYvD,EAAMuD,WAAYK,WAAY5D,EAAM4D,WAAYpC,kBAAmBxB,EAAMwB,kBACrFG,UAAW3B,EAAM2B,UAAWa,SAAUxC,EAAMwC,YAExD,G,gLCzBO,IAAM4C,EAAgB,SAAC1F,GAC1B,OAAQA,EAAM2F,SAASC,QAC3B,EACaC,EAAc,SAAC7F,GACxB,OAAQA,EAAM2F,SAAS5C,QAC3B,EACa+C,EAAgB,SAAC9F,GAC1B,OAAQA,EAAM2F,SAASH,UAC3B,EACaO,EAAgB,SAAC/F,GAC1B,OAAQA,EAAM2F,SAAS9B,UAC3B,EACamC,EAAgB,SAAChG,GAC1B,OAAQA,EAAM2F,SAASzB,UAC3B,EACa+B,EAAuB,SAACjG,GACjC,OAAQA,EAAM2F,SAAS7D,iBAC3B,C","sources":["components/common_components/hoc-components.tsx","webpack://first_project/./src/components/subs/subs.module.css?e655","components/subs/sub.tsx","components/subs/subs-presentation.tsx","components/subs/subs-container.tsx","redux/subs-selectors.ts"],"sourcesContent":["import React from 'react'\r\nimport { connect } from 'react-redux'\r\nimport { Navigate } from 'react-router-dom'\r\nimport { appStateType } from '../../redux/redux-store'\r\n\r\nconst mapStateToProps = (state: appStateType) => {\r\n    return {\r\n        isAuth: state.auth.isAuth\r\n    }\r\n}\r\ntype props = {\r\n    isAuth: boolean\r\n}\r\nconst AuthRedirect = (Component: React.ComponentType<props>) => {\r\n    return connect(mapStateToProps)(function (props: props) {\r\n        if (props.isAuth === false) {\r\n            return <Navigate to='/login' />\r\n        }\r\n        else { return <Component {...props} /> }\r\n    }\r\n    )\r\n}\r\nexport { AuthRedirect }","// extracted by mini-css-extract-plugin\nexport default {\"page_inner\":\"subs_page_inner__xMU0l\",\"page_opacity\":\"subs_page_opacity__kFPIH\",\"search\":\"subs_search__ndvyH\",\"sub_list\":\"subs_sub_list__ki3ru\",\"sub\":\"subs_sub__y-NoG\",\"link_box\":\"subs_link_box__wtV+e\",\"avatar\":\"subs_avatar__kW4h-\",\"text\":\"subs_text__kY2O8\",\"title\":\"subs_title__OUaxr\",\"desc\":\"subs_desc__H5Vy3\",\"btn_box\":\"subs_btn_box__tvCJU\",\"counter\":\"subs_counter__flTbw\",\"pageNumber\":\"subs_pageNumber__WyQQk\",\"spin\":\"subs_spin__rjrTT\",\"f_color\":\"subs_f_color__opCdw\",\"panel\":\"subs_panel__79zrS\"};","import React from 'react';\r\nimport s from './subs.module.css'\r\nimport avatar from './../../img/shit_icon.png'\r\nimport { NavLink } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\ntype propsType = {\r\n    key: number\r\n    id: number\r\n    name: string\r\n    status: string\r\n    followed: boolean\r\n    avatar: string\r\n    subscribeProgress: number[]\r\n    following: (followed: boolean, id: number) => void\r\n}\r\nconst Sub: React.FC<propsType> = (props) => {\r\n    let onSubClick = (e: any) => {\r\n        e.preventDefault();\r\n        props.following(props.followed, props.id)\r\n    }\r\n    let setProfileInfo = (e: any) => {\r\n        axios.get(\"https://social-network.samuraijs.com/api/1.0/follow/\" + props.id, { withCredentials: true }).then(response => {\r\n        })\r\n    }\r\n    return (\r\n        <li className={s.sub}>\r\n            <NavLink onClick={setProfileInfo} to={'/profile/' + props.id} className={s.link_box}>\r\n                <img className={s.avatar} src={props.avatar === null ? avatar : props.avatar} alt=\"\" />\r\n                <div className={s.text}>\r\n                    <p className={s.title}>{props.name}</p>\r\n                    <p className={s.desc}>{props.status === null ? \"No Status\" : props.status}</p>\r\n                </div>\r\n            </NavLink>\r\n            <div className={s.btn_box}>\r\n                <button disabled={props.subscribeProgress.some(id => id === props.id)} onClick={onSubClick} className={`${'quick-posting__btn'} ${props.followed && s.f_color}`}>\r\n                    {props.followed ? 'Unsubscribe' : 'Subscribe'}\r\n                </button>\r\n            </div>\r\n        </li>\r\n    )\r\n}\r\nexport { Sub }","import s from './subs.module.css'\r\nimport { Sub } from './sub'\r\nimport React, { FC, useEffect, useState } from 'react'\r\nimport { Preloader } from '../common_components/preloader'\r\nimport { Flex, Pagination } from '@mantine/core'\r\nimport { Tabs, TextInput } from '@mantine/core';\r\nimport { useDebouncedState } from \"@mantine/hooks\";\r\nimport { useNavigate, useParams } from 'react-router-dom'\r\n\r\ntype propsType = {\r\n    users: userItemType[]\r\n    subUsers: userItemType[]\r\n    pageSize: number\r\n    pageNumber: number\r\n    totalCount: number\r\n    isFetching: boolean\r\n    subscribeProgress: number[]\r\n    following: (followed: boolean, id: number) => void\r\n    getUsers: (pageSize: number, pageNumber: string | undefined, term: string) => void\r\n}\r\nconst SubsPresentation: FC<propsType> = (props) => {\r\n    const [searchValue, setSearchValue] = useDebouncedState('', 500)\r\n    const params = useParams()\r\n    useEffect(() => {\r\n        props.getUsers(props.pageSize, params.page, searchValue)\r\n        navigate('/subs/' + params.page + \"/\" + searchValue)\r\n    }, [searchValue, params.page])\r\n    const changePage = (e: number) => {\r\n        navigate('/subs/' + e + \"/\" + searchValue)\r\n    }\r\n    const navigate = useNavigate()\r\n    let subs = props.users.map(p => <Sub key={p.id} id={p.id} name={p.name} status={p.status}\r\n        followed={p.followed} avatar={p.photos.small} subscribeProgress={props.subscribeProgress}\r\n        following={props.following} />)\r\n    let subUsers = props.subUsers.map(p => <Sub key={p.id} id={p.id} name={p.name} status={p.status}\r\n        followed={p.followed} avatar={p.photos.small} subscribeProgress={props.subscribeProgress}\r\n        following={props.following} />)\r\n    let pageCount = Math.ceil(props.totalCount / props.pageSize);\r\n\r\n    return (\r\n        <div className={s.subs}>\r\n            <div className='page-block'>\r\n                <div className={s.page_inner}>\r\n                    <Tabs defaultValue='Users' >\r\n                        <Tabs.List grow>\r\n                            <Tabs.Tab value='Users'>Users</Tabs.Tab>\r\n                            <Tabs.Tab value='Subs'>Subs</Tabs.Tab>\r\n                        </Tabs.List>\r\n                        {props.isFetching ? <Preloader /> : null}\r\n                        <Tabs.Panel mt={0} pt={30} value='Users'>\r\n                            <div className={s.panel}>\r\n                                <div className={s.btn_box}></div>\r\n                                <TextInput size='lg' defaultValue={searchValue} className={s.search} type=\"text\"\r\n                                    placeholder='Search' onChange={(e) => setSearchValue(e.currentTarget.value)} />\r\n                                <Flex gap={16} direction={'column'} className={`${s.sub_list} ${props.isFetching && s.page_opacity}`}>\r\n                                    {subs}\r\n                                </Flex>\r\n                                {/* @ts-ignore */}\r\n                                <Pagination color='red' value={parseInt(params.page)} onChange={(e) => { changePage(e) }}\r\n                                    total={pageCount} withEdges siblings={3} className={s.counter} size=\"lg\">\r\n                                </Pagination>\r\n                            </div>\r\n                        </Tabs.Panel>\r\n                        <Tabs.Panel pt={30} value='Subs'>\r\n                            <div className={s.panel}>\r\n                                <Flex gap={16} direction={'column'} className={`${s.sub_list} ${props.isFetching && s.page_opacity}`}>\r\n                                    {subUsers}\r\n                                </Flex>\r\n                            </div>\r\n                        </Tabs.Panel>\r\n                    </Tabs>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport { SubsPresentation }","import { connect } from \"react-redux\"\r\nimport { following, getUsers } from \"../../redux/subs-reducer\"\r\nimport React from \"react\";\r\nimport { SubsPresentation } from \"./subs-presentation\";\r\nimport { AuthRedirect } from \"../common_components/hoc-components\";\r\nimport { compose } from \"redux\";\r\nimport * as subSelectors from \"../../redux/subs-selectors\";\r\nimport { appStateType } from \"../../redux/redux-store\";\r\n\r\ntype propsType = {\r\n    users: userItemType[]\r\n    pageSize: number\r\n    pageNumber: number\r\n    totalCount: number\r\n    isFetching: boolean\r\n    subscribeProgress: number[]\r\n    subUsers: userItemType[]\r\n    following: (followed: boolean, id: number) => void\r\n    getUsers: (pageSize: number, pageNumber: string | undefined | number, term: string) => void\r\n}\r\n\r\nconst Users: React.FC<propsType> = (props) => {\r\n    return (<>\r\n        <SubsPresentation users={props.users} subUsers={props.subUsers} pageSize={props.pageSize} pageNumber={props.pageNumber}\r\n            totalCount={props.totalCount} isFetching={props.isFetching} subscribeProgress={props.subscribeProgress}\r\n            following={props.following} getUsers={props.getUsers} />\r\n    </>)\r\n}\r\nconst mapStateToProps = (state: appStateType) => {\r\n    return {\r\n        users: subSelectors.getUsersArray(state),\r\n        pageSize: subSelectors.getPageSize(state),\r\n        pageNumber: subSelectors.getPageNumber(state),\r\n        totalCount: subSelectors.getTotalCount(state),\r\n        isFetching: subSelectors.getIsFetching(state),\r\n        subscribeProgress: subSelectors.getSubscribeProgress(state),\r\n        subUsers: state.auth.subUsers\r\n    }\r\n}\r\nexport default compose<React.FC>(\r\n    connect(mapStateToProps, {\r\n        getUsers,\r\n        following\r\n    }),\r\n    AuthRedirect\r\n)(Users)","import { appStateType } from \"./redux-store\"\r\n\r\nexport const getUsersArray = (state: appStateType) => {\r\n    return (state.subsPage.subsData)\r\n}\r\nexport const getPageSize = (state: appStateType) => {\r\n    return (state.subsPage.pageSize)\r\n}\r\nexport const getPageNumber = (state: appStateType) => {\r\n    return (state.subsPage.pageNumber)\r\n}\r\nexport const getTotalCount = (state: appStateType) => {\r\n    return (state.subsPage.totalCount)\r\n}\r\nexport const getIsFetching = (state: appStateType) => {\r\n    return (state.subsPage.isFetching)\r\n}\r\nexport const getSubscribeProgress = (state: appStateType) => {\r\n    return (state.subsPage.subscribeProgress)\r\n}"],"names":["mapStateToProps","state","isAuth","auth","AuthRedirect","Component","connect","props","_jsx","Navigate","to","_objectSpread","Sub","_jsxs","className","s","children","NavLink","onClick","e","axios","id","withCredentials","then","response","src","avatar","alt","name","status","disabled","subscribeProgress","some","preventDefault","following","followed","concat","SubsPresentation","_useDebouncedState","useDebouncedState","_useDebouncedState2","_slicedToArray","searchValue","setSearchValue","params","useParams","useEffect","getUsers","pageSize","page","navigate","useNavigate","subs","users","map","p","photos","small","subUsers","pageCount","Math","ceil","totalCount","Tabs","defaultValue","grow","value","isFetching","Preloader","mt","pt","TextInput","size","type","placeholder","onChange","currentTarget","Flex","gap","direction","Pagination","color","parseInt","changePage","total","withEdges","siblings","compose","subSelectors","pageNumber","_Fragment","getUsersArray","subsPage","subsData","getPageSize","getPageNumber","getTotalCount","getIsFetching","getSubscribeProgress"],"sourceRoot":""}