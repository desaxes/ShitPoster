"use strict";(self.webpackChunkfirst_project=self.webpackChunkfirst_project||[]).push([[932],{9344:function(s,e,n){n.d(e,{I:function(){return o}});var t=n(1413),r=(n(2791),n(8687)),a=n(7689),u=n(184),i=function(s){return{isAuth:s.auth.isAuth}},o=function(s){return(0,r.$j)(i)((function(e){return!1===e.isAuth?(0,u.jsx)(a.Fg,{to:"/login"}):(0,u.jsx)(s,(0,t.Z)({},e))}))}},9179:function(s,e,n){n.r(e),n.d(e,{default:function(){return U}});var t=n(8687),r=n(9719),a=n(2791),u=n(9439),i={page_inner:"subs_page_inner__xMU0l",page_opacity:"subs_page_opacity__kFPIH",search:"subs_search__ndvyH",sub_list:"subs_sub_list__ki3ru",sub:"subs_sub__y-NoG",link_box:"subs_link_box__wtV+e",avatar:"subs_avatar__kW4h-",text:"subs_text__kY2O8",title:"subs_title__OUaxr",desc:"subs_desc__H5Vy3",btn_box:"subs_btn_box__tvCJU",counter:"subs_counter__flTbw",pageNumber:"subs_pageNumber__WyQQk",spin:"subs_spin__rjrTT",f_color:"subs_f_color__opCdw",panel:"subs_panel__79zrS"},o=n(1853),l=n(1087),c=n(1243),b=n(184),g=function(s){return(0,b.jsxs)("li",{className:i.sub,children:[(0,b.jsxs)(l.OL,{onClick:function(e){c.Z.get("https://social-network.samuraijs.com/api/1.0/follow/"+s.id,{withCredentials:!0}).then((function(s){}))},to:"/profile/"+s.id,className:i.link_box,children:[(0,b.jsx)("img",{className:i.avatar,src:null===s.avatar?o:s.avatar,alt:""}),(0,b.jsxs)("div",{className:i.text,children:[(0,b.jsx)("p",{className:i.title,children:s.name}),(0,b.jsx)("p",{className:i.desc,children:null===s.status?"No Status":s.status})]})]}),(0,b.jsx)("div",{className:i.btn_box,children:(0,b.jsx)("button",{disabled:s.subscribeProgress.some((function(e){return e===s.id})),onClick:function(e){e.preventDefault(),s.following(s.followed,s.id)},className:"quick-posting__btn".concat(" ",s.followed&&i.f_color),children:s.followed?"Unsubscribe":"Subscribe"})})]})},_=n(148),f=n(2164),d=n(2825),p=n(4143),h=n(2356),m=n(9438),x=n(7689),j=function(s){var e=(0,m.G)("",500),n=(0,u.Z)(e,2),t=n[0],r=n[1],o=(0,x.UO)();(0,a.useEffect)((function(){s.getUsers(s.pageSize,o.page,t),l("/subs/"+o.page+"/"+t)}),[t,o.page]);var l=(0,x.s0)(),c=s.users.map((function(e){return(0,b.jsx)(g,{id:e.id,name:e.name,status:e.status,followed:e.followed,avatar:e.photos.small,subscribeProgress:s.subscribeProgress,following:s.following},e.id)})),j=s.subUsers.map((function(e){return(0,b.jsx)(g,{id:e.id,name:e.name,status:e.status,followed:e.followed,avatar:e.photos.small,subscribeProgress:s.subscribeProgress,following:s.following},e.id)})),v=Math.ceil(s.totalCount/s.pageSize);return(0,b.jsx)("div",{className:i.subs,children:(0,b.jsx)("div",{className:"page-block",children:(0,b.jsx)("div",{className:i.page_inner,children:(0,b.jsxs)(p.m,{defaultValue:"Users",children:[(0,b.jsxs)(p.m.List,{grow:!0,children:[(0,b.jsx)(p.m.Tab,{value:"Users",children:"Users"}),(0,b.jsx)(p.m.Tab,{value:"Subs",children:"Subs"})]}),s.isFetching?(0,b.jsx)(_.p,{}):null,(0,b.jsx)(p.m.Panel,{mt:0,pt:30,value:"Users",children:(0,b.jsxs)("div",{className:i.panel,children:[(0,b.jsx)("div",{className:i.btn_box}),(0,b.jsx)(h.o,{size:"lg",defaultValue:t,className:i.search,type:"text",placeholder:"Search",onChange:function(s){return r(s.currentTarget.value)}}),(0,b.jsx)(f.k,{gap:16,direction:"column",className:"".concat(i.sub_list," ").concat(s.isFetching&&i.page_opacity),children:c}),(0,b.jsx)(d.t,{color:"red",value:parseInt(o.page),onChange:function(s){!function(s){l("/subs/"+s+"/"+t)}(s)},total:v,withEdges:!0,siblings:3,className:i.counter,size:"lg"})]})}),(0,b.jsx)(p.m.Panel,{pt:30,value:"Subs",children:(0,b.jsx)("div",{className:i.panel,children:(0,b.jsx)(f.k,{gap:16,direction:"column",className:"".concat(i.sub_list," ").concat(s.isFetching&&i.page_opacity),children:j})})})]})})})})},v=n(9344),N=n(7781),w=n(8748),U=(0,N.qC)((0,t.$j)((function(s){return{users:w.KA(s),pageSize:w.b7(s),pageNumber:w.zU(s),totalCount:w.FX(s),isFetching:w.ab(s),subscribeProgress:w.FL(s),subUsers:s.auth.subUsers}}),{getUsers:r.Rf,following:r.mG}),v.I)((function(s){return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)(j,{users:s.users,subUsers:s.subUsers,pageSize:s.pageSize,pageNumber:s.pageNumber,totalCount:s.totalCount,isFetching:s.isFetching,subscribeProgress:s.subscribeProgress,following:s.following,getUsers:s.getUsers})})}))},8748:function(s,e,n){n.d(e,{FL:function(){return o},FX:function(){return u},KA:function(){return t},ab:function(){return i},b7:function(){return r},zU:function(){return a}});var t=function(s){return s.subsPage.subsData},r=function(s){return s.subsPage.pageSize},a=function(s){return s.subsPage.pageNumber},u=function(s){return s.subsPage.totalCount},i=function(s){return s.subsPage.isFetching},o=function(s){return s.subsPage.subscribeProgress}}}]);
//# sourceMappingURL=932.36f40e9c.chunk.js.map